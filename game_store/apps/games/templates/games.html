{% extends 'base.html' %}

{% load crispy_forms_tags %}
{% load staticfiles%}

{% block body %}
  <form id="game-search-form" method="POST" action="/search" class="container-fluid px-md-3 px-lg-5">
    {% csrf_token %}
    <div class="row">
      <div class="col col-10 p-0">{{ search_form.query|as_crispy_field }}</div>
      <button type="submit" class="btn bg-primary col col-2 mb-3 text-light text-uppercase">Search</button>
    </div>
    <div>
      <div class="form-row game-filters">
        {% if user_profile is not None and user_profile.is_player %}
          <div class="game-ownership-filters">
            {{ search_form.player_games_only|as_crispy_field }}
          </div>
        {% endif %}
        <div class="game-category-filters form-check-inline">
          {{ search_form.categories|as_crispy_field }}
        </div>
      </div>
    </div>
  </form>
  <div id="game-search-results">
    {% include 'game_search_results.html' %}
  </div>
  <script type='text/javascript' src='{% static "games/js/search.js" %}'></script>
{% endblock %}
