<div class="game-preview-list">
  {% if user_profile and user_profile.is_developer %}
  <div class="card game-preview">
    <a href="{% url 'publish' %}">Publish +</a>
  </div>
  {% endif %}
  {% if games %}
    {% for game in games %}
      <div class="card game-preview">
        <!-- TODO: Fix image aspect ratio. -->
        {% if game.image %}
          <a href="{% url 'game_page' game.id %}"><img class="card-img-top" src="{{ game.image.url }}" alt="game.title"></a>
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ game.title }}</h5>
          {% for category in game.categories.all %}
            <a href="#"><span class="badge badge-pill badge-secondary">{{ category }}</span></a> <!-- TODO: Go to all games in a selected category. -->
          {% endfor %}
          <br>
          <div class="btn-group" role="group" aria-label="Play">
            {% if user_profile is not None %}
              {% if user_profile.is_player %}
                {% if game.is_owned %}
                  <button type="button" class="btn btn-outline-primary">{{ game.highscore }}</button>
                  <button type="button" class="btn btn-primary">PLAY</button> <!-- TODO: CAPS with CSS -->
                {% else %}
                  <button type="button" class="btn btn-outline-primary">{{ game.price }}</button>
                  <button type="button" class="btn btn-primary">BUY</button>
                {% endif %}
              {% else %}
                <button type="button" class="btn btn-outline-primary">{{ game.price }}</button>
                <button type="button" class="btn btn-primary">MANAGE</button>
              {% endif %}
            {% else %}
              <button type="button" class="btn btn-outline-primary">{{ game.price }}</button>
              <button type="button" class="btn btn-primary">BUY</button>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <h3>No games to display ¯\_(ツ)_/¯</h3>
  {% endif %}
</div>
